<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Đề Xuất Phương Án Đầu Tư - Dự Án Minh Tân, Kiến Thụy</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap');

        :root {
            --primary-color: #005A9C; /* Deep Blue */
            --secondary-color: #0078D4; /* Lighter Blue */
            --accent-color: #FF8C00; /* Dark Orange */
            --highlight-yellow: #FFFACD; /* Lemon Chiffon */
            --text-color: #333;
            --light-text-color: #fff;
            --bg-color: #f4f7f6;
            --card-bg-color: #ffffff;
            --border-color: #e0e0e0;
        }

        body {
            font-family: 'Roboto', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: flex-start; /* Align to top for longer content */
            min-height: 100vh;
            line-height: 1.6;
        }

        .presentation-container {
            background-color: var(--card-bg-color);
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            width: 90%;
            max-width: 900px; /* Max width for larger screens */
            overflow: hidden; /* Important for slide transitions */
            display: flex;
            flex-direction: column;
        }

        header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: var(--light-text-color);
            padding: 25px 30px;
            text-align: center;
            border-bottom: 5px solid var(--accent-color);
        }

        header h1 {
            margin: 0;
            font-size: 2em;
            font-weight: 700;
        }

        header h2 {
            margin: 5px 0 0;
            font-size: 1.3em;
            font-weight: 400;
            opacity: 0.9;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 30px;
            background-color: #f9f9f9;
            border-bottom: 1px solid var(--border-color);
        }

        .navigation button {
            background-color: var(--secondary-color);
            color: var(--light-text-color);
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9em;
            transition: background-color 0.3s ease, transform 0.1s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .navigation button:hover:not(:disabled) {
            background-color: var(--primary-color);
        }

        .navigation button:active:not(:disabled) {
            transform: translateY(1px);
        }

        .navigation button:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }

        #slideIndicator {
            font-weight: 500;
            color: var(--primary-color);
        }

        .slides-wrapper {
            position: relative; /* For absolute positioning of slides if needed, or for overflow */
            min-height: 400px; /* Ensure wrapper has some height */
            padding: 30px;
            overflow-x: hidden; /* Prevent horizontal scrollbar if slides are wider */
        }

        .slide {
            display: none; /* Hide all slides by default */
            animation: fadeIn 0.7s ease-in-out;
        }

        .slide.active {
            display: block; /* Show active slide */
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .slide h3 {
            color: var(--primary-color);
            font-size: 1.8em;
            margin-top: 0;
            margin-bottom: 20px;
            border-bottom: 2px solid var(--accent-color);
            padding-bottom: 10px;
        }

        .slide .main-point {
            font-size: 1.2em;
            font-weight: 500;
            color: var(--secondary-color);
            margin-bottom: 20px;
            padding: 10px;
            background-color: #e7f3fe;
            border-left: 4px solid var(--secondary-color);
            border-radius: 4px;
        }

        .slide ul {
            list-style: none;
            padding-left: 0;
        }

        .slide ul li {
            margin-bottom: 12px;
            display: flex;
            align-items: flex-start; /* Align icon with first line of text */
        }

        .slide ul li i {
            color: var(--secondary-color);
            margin-right: 10px;
            font-size: 1.2em;
            margin-top: 2px; /* Align icon better with text */
        }


        .highlight-box {
            background-color: #e7f3fe; /* Light blue */
            border: 1px solid var(--secondary-color);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            text-align: center;
        }

        .highlight-box p {
            margin: 5px 0 15px;
        }

        .big-number {
            font-size: 2.5em;
            font-weight: 700;
            color: var(--primary-color);
            display: block;
            margin: 5px 0;
        }
        .big-number.accent {
            color: var(--accent-color);
        }

        .medium-number {
            font-size: 1.5em;
            font-weight: 500;
            color: var(--secondary-color);
        }

        .formula-box {
            background-color: #fff9e6; /* Light yellow/orange */
            border: 1px solid var(--accent-color);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            text-align: center;
        }

        .formula-box h4 {
            margin-top: 0;
            color: var(--accent-color);
        }

        .result-emphasis {
            font-size: 1.3em;
            font-weight: bold;
            text-align: center;
            color: var(--primary-color);
            margin-top: 20px;
        }
        .result-emphasis i {
            margin-right: 8px;
            color: var(--accent-color);
        }

        .table-container {
            overflow-x: auto; /* For responsive tables */
            margin-top: 20px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.95em;
        }

        th, td {
            border: 1px solid var(--border-color);
            padding: 12px 15px;
            text-align: left;
        }

        th {
            background-color: var(--secondary-color);
            color: var(--light-text-color);
            font-weight: 500;
        }

        tbody tr:nth-child(even) {
            background-color: #f9f9f9;
        }

        tbody tr:hover {
            background-color: #eef;
        }

        .number-cell {
            text-align: right;
            font-family: 'Courier New', Courier, monospace; /* Monospaced for numbers */
        }

        .highlight-row-yellow {
            background-color: var(--highlight-yellow) !important; /* Override nth-child */
            font-weight: 500;
        }

        .highlight-row-orange {
            background-color: #fff0e1 !important; /* Lighter orange */
            font-weight: bold;
            color: var(--accent-color);
        }
        .highlight-row-orange td {
            color: var(--accent-color); /* Ensure text color is also accent */
        }

        footer {
            text-align: center;
            padding: 15px;
            background-color: #333;
            color: #eee;
            font-size: 0.9em;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            header h1 {
                font-size: 1.5em;
            }
            header h2 {
                font-size: 1em;
            }
            .navigation button {
                padding: 8px 12px;
                font-size: 0.8em;
            }
            .slide h3 {
                font-size: 1.5em;
            }
            .big-number {
                font-size: 2em;
            }
            .medium-number {
                font-size: 1.2em;
            }
            th, td {
                padding: 8px 10px;
                font-size: 0.9em;
            }
        }

        @media (max-width: 480px) {
            .presentation-container {
                width: 95%;
                margin: 10px auto;
            }
            header {
                padding: 15px;
            }
            .navigation {
                padding: 10px 15px;
                flex-direction: row; /* Keep row for nav buttons */
            }
            .slides-wrapper {
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="presentation-container">
        <header>
            <h1>ĐỀ XUẤT PHƯƠNG ÁN ĐẦU TƯ</h1>
            <h2>DỰ ÁN MINH TÂN, KIẾN THỤY</h2>
        </header>

        <nav class="navigation">
            <button id="prevBtn" disabled><i class="fas fa-arrow-left"></i> Trước</button>
            <span id="slideIndicator">1 / 4</span>
            <button id="nextBtn">Tiếp <i class="fas fa-arrow-right"></i></button>
        </nav>

        <main class="slides-wrapper">
            <!-- Slide 1: Giới thiệu chung & Phương án thực hiện -->
            <section class="slide active" id="slide1">
                <h3>1. Phương án thực hiện</h3>
                <p class="main-point">Mua lại dự án qua hình thức chuyển nhượng cổ phần của Công ty dự án.</p>
                <ul>
                    <li><i class="fas fa-check-circle"></i> Hai Bên ký thỏa thuận chuyển nhượng cổ phần. Số tiền thanh toán từng đợt tương ứng với tỷ lệ cổ phần chuyển nhượng từng đợt.</li>
                    <li><i class="fas fa-check-circle"></i> Bên mua hoàn thành các thủ tục tách Công ty dự án để chuyển nhượng cổ phần Công ty dự án.</li>
                    <li><i class="fas fa-check-circle"></i> Bên bán hỗ trợ Bên mua để thực hiện các thủ tục pháp lý đến khi đạt được Quyết định nghiệm thu hạ tầng, đủ điều kiện bán hàng và cấp sổ lô đất NOXH.</li>
                </ul>
            </section>

            <!-- Slide 2: Giá trị chuyển nhượng -->
            <section class="slide" id="slide2">
                <h3>2. Đề xuất Giá trị chuyển nhượng</h3>
                <div class="highlight-box">
                    <p>Giá trị chuyển nhượng hiện trạng dự kiến:</p>
                    <span class="big-number" data-target="500000000000">0</span> VNĐ
                    <p>(Giá trị dự án theo hiện trạng)</p>
                    <p>Đơn giá quy đổi/m² thương phẩm: <span class="medium-number" data-target="20162000">0</span> đồng/m²</p>
                </div>
                <div class="formula-box">
                    <h4>Giá nhận chuyển nhượng thực tế =</h4>
                    <p>Giá bán dự kiến – Các khoản công nợ – Khoản vay + Các khoản phải thu</p>
                </div>
                <p class="result-emphasis">
                    <i class="fas fa-calculator"></i> SỐ TIỀN THANH TOÁN THỰC TẾ DỰ KIẾN: KHOẢNG
                    <span class="big-number accent" data-target="352596090634">0</span> VNĐ
                </p>
            </section>

            <!-- Slide 3: Bảng tính toán chi tiết -->
            <section class="slide" id="slide3">
                <h3>Bảng tính toán giá trị thanh toán thực tế</h3>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>STT</th>
                                <th>Nội dung</th>
                                <th>Số tiền (VNĐ)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>1</td>
                                <td>Đơn giá/m2 gồm hạ tầng</td>
                                <td class="number-cell">20,162,750</td>
                            </tr>
                            <tr>
                                <td>2</td>
                                <td>Tổng giá trị chuyển nhượng</td>
                                <td class="number-cell">597,596,090,634</td>
                            </tr>
                            <tr>
                                <td>3</td>
                                <td>Giá trị hạ tầng (Dự kiến)</td>
                                <td class="number-cell">130,000,000,000</td>
                            </tr>
                            <tr>
                                <td>4</td>
                                <td>Đã thanh toán nhà thầu</td>
                                <td class="number-cell">32,403,909,366</td>
                            </tr>
                            <tr class="highlight-row-yellow">
                                <td></td>
                                <td>Giá trị dự án theo hiện trạng</td>
                                <td class="number-cell">500,000,000,000</td>
                            </tr>
                            <tr class="highlight-row-yellow">
                                <td></td>
                                <td>Giá trị mua không hạ tầng</td>
                                <td class="number-cell">467,596,090,634</td>
                            </tr>
                            <tr>
                                <td>5</td>
                                <td>Tiền vay (Cả tiền đất và hạ tầng)</td>
                                <td class="number-cell">147,403,909,366</td>
                            </tr>
                            <tr class="highlight-row-orange">
                                <td>6</td>
                                <td>Thành tiền mua CP thực tế (2-3+4-5)</td>
                                <td class="number-cell">352,596,090,634</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Slide 4: Tiến độ thanh toán -->
            <section class="slide" id="slide4">
                <h3>Tiến độ thanh toán tiền thực</h3>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Đợt</th>
                                <th>Điều kiện thanh toán</th>
                                <th>Tỷ lệ</th>
                                <th>Số tiền</th>
                                <th>Ghi chú</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>1</td>
                                <td>Đặt cọc, ký Thỏa thuận chuyển nhượng</td>
                                <td></td>
                                <td class="number-cell">30 tỷ</td>
                                <td></td>
                            </tr>
                            <tr>
                                <td>2</td>
                                <td>Trong vòng 30 ngày kể từ Đợt 1</td>
                                <td>Đến 65%</td>
                                <td class="number-cell">~ 230 tỷ</td>
                                <td>Tách Cty dự án, Thay đổi Đại diện pháp luật</td>
                            </tr>
                            <tr>
                                <td>3</td>
                                <td>Trong vòng 60 ngày kể từ Đợt 1</td>
                                <td>Đến 85%</td>
                                <td class="number-cell">~ 300 tỷ</td>
                                <td></td>
                            </tr>
                            <tr>
                                <td>4</td>
                                <td>Trong vòng 90 ngày kể từ Đợt 1</td>
                                <td>Đến 100%</td>
                                <td class="number-cell">352 tỷ</td>
                                <td>Nghiệm thu hạ tầng, đủ ĐK bán hàng</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <p style="text-align: center; margin-top: 20px; font-weight: bold;">Cảm ơn đã theo dõi!</p>
            </section>
        </main>

        <footer>
            <p>© 2023 Đề xuất đầu tư Minh Tân - Kiến Thụy</p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const slides = document.querySelectorAll('.slide');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const slideIndicator = document.getElementById('slideIndicator');
            let currentSlide = 0;
            const totalSlides = slides.length;

            function updateSlideIndicator() {
                slideIndicator.textContent = `${currentSlide + 1} / ${totalSlides}`;
            }

            function showSlide(index) {
                slides.forEach((slide, i) => {
                    slide.classList.remove('active');
                    if (i === index) {
                        slide.classList.add('active');
                        // Trigger animations for numbers on the active slide
                        animateNumbers(slide);
                    }
                });
                currentSlide = index;
                prevBtn.disabled = currentSlide === 0;
                nextBtn.disabled = currentSlide === totalSlides - 1;
                updateSlideIndicator();
            }

            function animateNumbers(slide) {
                const numbersToAnimate = slide.querySelectorAll('.big-number[data-target], .medium-number[data-target]');
                numbersToAnimate.forEach(numElement => {
                    // Reset animation if already played on this slide
                    if(numElement.dataset.animated === "true" && parseInt(numElement.textContent.replace(/[,.]/g, ''), 10) === parseInt(numElement.dataset.target, 10)){
                         // Already animated and at target, do nothing or optionally reset for re-animation on slide re-visit
                        // For now, let's allow re-animation if the slide is revisited and numbers should reset
                        // numElement.textContent = '0'; // Optional: reset to 0 before re-animating
                    }


                    const target = parseInt(numElement.dataset.target, 10);
                    // Check if animation is needed (if it was already animated to target, maybe skip)
                    // This simple check prevents re-animating if the number is already at its target.
                    // A more robust solution might involve a flag that resets when the slide becomes inactive.
                    if (parseInt(numElement.textContent.replace(/[,.]/g, ''), 10) === target && numElement.dataset.animatedPreviously) {
                        return;
                    }


                    numElement.dataset.animatedPreviously = "true"; // Mark that animation has been attempted/done
                    let current = 0;
                    const duration = 1500; // ms
                    // const stepTime = Math.abs(Math.floor(duration / (target || 1))); // Avoid division by zero // Not used
                    const increment = Math.max(1, Math.floor(target / (duration / 16))); // Calculate increment for smoother animation (target ~16ms per frame)

                    // If target is 0, set immediately
                    if (target === 0) {
                        numElement.textContent = "0";
                        return;
                    }

                    // Clear any existing interval for this element (important if re-animating)
                    if (numElement.animationInterval) {
                        clearInterval(numElement.animationInterval);
                    }
                    
                    numElement.textContent = '0'; // Start from 0 or current displayed value

                    numElement.animationInterval = setInterval(() => {
                        current += increment;
                        if (current >= target) {
                            current = target;
                            clearInterval(numElement.animationInterval);
                            numElement.animationInterval = null; // Clear interval ID
                        }
                        numElement.textContent = current.toLocaleString('vi-VN');
                    }, 16); // Roughly 60fps
                });
            }

            prevBtn.addEventListener('click', () => {
                if (currentSlide > 0) {
                    showSlide(currentSlide - 1);
                }
            });

            nextBtn.addEventListener('click', () => {
                if (currentSlide < totalSlides - 1) {
                    showSlide(currentSlide + 1);
                }
            });

            // Initialize
            showSlide(0);
        });
    </script>
</body>
</html>